<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phenotype Trait Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #000;
            color: #fff;
        }
        h1 {
            text-align: center;
            color: #fff;
        }
        .description {
            text-align: center;
            color: #ccc;
            margin: 10px 0 20px;
            font-size: 1.2em;
        }
        #trait-form, #strain-list {
            margin-top: 20px;
        }
        #trait-form {
            background: #222;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }
        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: bold;
            color: #00bfff;
        }
        select, input[type="text"] {
            width: 100%;
            padding: 8px;
            border: none;
            border-radius: 4px;
            background: #333;
            color: #fff;
            font-size: 1em;
        }
        button {
            margin-top: 15px;
            background: #00bfff;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            color: #000;
            cursor: pointer;
            transition: background 0.3s;
            width: 100%;
        }
        button:hover {
            background: #009acd;
        }
        #strain-list {
            list-style-type: none;
            padding: 0;
        }
        #strain-list li {
            padding: 15px;
            background: #333;
            margin: 5px 0;
            border: 1px solid #444;
            border-radius: 4px;
            transition: transform 0.2s;
        }
        #strain-list li:hover {
            transform: scale(1.02);
        }
        .delete-log {
            margin-left: 10px;
            background: #ff4d4d;
            border: none;
            padding: 5px;
            border-radius: 4px;
            color: #fff;
            cursor: pointer;
            font-size: 0.8em;
        }
        canvas {
            margin-top: 20px;
            max-width: 100%;
        }
        footer {
            text-align: center;
            margin-top: 20px;
            color: #888;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
 
</head>
<body>
    <div style="text-align: center;">
    <h1>Phenotype Trait Tracker</h1>
    <div style="text-align: center;">
    <p class="description">Track and log the phenotypic traits of your cannabis plants, visualize their growth stages, and analyze their characteristics.</p>
    
    <img src="https://images.squarespace-cdn.com/content/v1/5f8db7b99027f25b74526d38/1608316502674-HWATZ0J523VOQ3IG0H0O/01+-+header+b.jpg" alt="Cannabis">
    <div style="text-align: center;">
    <div id="pheno-hunt-description">
    <div style="text-align: center;">
    <h2>Understanding Phenotypes in Your Pheno Hunt</h2>
    <div style="text-align: center;">
            <p>Tracking phenotypes during a pheno hunt is essential for growers aiming to select the best traits from their plants. By documenting the characteristics of each phenotype, you can make informed decisions about which plants to keep for future breeding or cultivation. This process enhances the overall quality and consistency of your yield, allowing you to identify traits such as growth rate, flavor profiles, and resistance to pests or diseases.
            </p>
            <p>
                In botanical terms, a phenotype refers to the observable physical or biochemical characteristics of an organism, determined by both genetic makeup and environmental influences. This includes features like leaf shape, plant height, flower color, and yield. Understanding and tracking these traits can help you optimize your cultivation strategy and achieve your desired outcomes.
            </p>
            <h3>Tips for Tracking Your Pheno Hunt</h3>
            <ul>
                <li><strong>Maintain Detailed Records:</strong> Use a dedicated journal or digital platform to record the traits of each phenotype, including growth rates, leaf morphology, and any other significant observations.</li>
                <li><strong>Standardize Your Measurements:</strong> Ensure consistency in how you measure and record data across different plants to facilitate better comparisons.</li>
                <li><strong>Photograph Your Plants:</strong> Take regular photos to visually document growth stages and changes, which can serve as a valuable reference later.</li>
                <li><strong>Utilize a Scoring System:</strong> Develop a scoring system for various traits to help prioritize which phenotypes show the most promise based on your goals.</li>
                <li><strong>Engage with Other Growers:</strong> Share your findings and learn from others in the community to gain insights and improve your tracking methods.</li>
            </ul>
        </div>
    
    <!-- Trait and Strain Form -->
    <div id="trait-form">
        <label for="newStrainInput">Add New Strain:</label>
        <input type="text" id="newStrainInput" placeholder="Enter new strain name">
        <button onclick="addStrain()">Add Strain</button>

        <label for="strainDropdown">Select Strain:</label>
        <select id="strainDropdown"></select>
        
        <label for="traitDropdown">Select Trait:</label>
        <select id="traitDropdown">
            <option>Height</option>
            <option>Yield</option>
            <option>Flowering Time</option>
            <option>Aroma</option>
            <option>Bud Density</option>
            <option>Resin Production</option>
            <option>Resistance to Pests</option>
            <option>Leaf Size</option>
            <option>Stem Strength</option>
            <option>Root Growth</option>
            <option>Color Variation</option>
            <option>Branching</option>
            <option>Terpene Profile</option>
            <option>Hardiness</option>
            <option>Potency</option>
        </select>
        
        <label for="descriptionDropdown">Trait Description:</label>
        <select id="descriptionDropdown">
            <option>Low</option>
            <option>Medium</option>
            <option>High</option>
            <option>Very High</option>
            <option>Exceptional</option>
            <option>Poor</option>
            <option>Good</option>
            <option>Excellent</option>
            <option>Weak</option>
            <option>Strong</option>
            <option>Robust</option>
            <option>Vigorous</option>
            <option>Compact</option>
            <option>Open</option>
            <option>Dense</option>
        </select>
        
        <label for="colorDropdown">Color:</label>
        <select id="colorDropdown">
            <option>Green</option>
            <option>Purple</option>
            <option>Yellow</option>
            <option>Blue</option>
            <option>Red</option>
            <option>Orange</option>
        </select>
        
        <label for="growthRateDropdown">Growth Rate:</label>
        <select id="growthRateDropdown">
            <option>Slow</option>
            <option>Moderate</option>
            <option>Fast</option>
            <option>Very Fast</option>
        </select>
        
        <label for="flavorProfileDropdown">Flavor Profile:</label>
        <select id="flavorProfileDropdown">
            <option>Sweet</option>
            <option>Earthy</option>
            <option>Citrus</option>
            <option>Pine</option>
            <option>Spicy</option>
            <option>Fruity</option>
        </select>
        
        <button onclick="logTrait()">Log Trait</button>
    </div>

    <!-- Strain List -->
    <ul id="strain-list"></ul>

    <!-- Growth Chart -->
    <canvas id="growthChart" width="400" height="200"></canvas>

    <!-- Footer -->
    <footer>
        Â© <span id="currentYear"></span> All rights reserved | heirgenetics.com
    </footer>

    <script>
        // Initialize plant data with some default strains
        let plantData = loadFromLocalStorage();

        if (plantData.length === 0) {
            plantData = [
                { strain: "Exodus Cheese S1 #1", growthStages: [10, 20, 30, 40, 50], loggedTraits: [] },
                { strain: "OG Kush #1", growthStages: [8, 15, 25, 35, 45], loggedTraits: [] }
            ];
            saveToLocalStorage(); // Save default data
        }

        const strainDropdown = document.getElementById("strainDropdown");
        const strainList = document.getElementById("strain-list");

        // Populate Strain Dropdown
        function populateStrainDropdown() {
            strainDropdown.innerHTML = "";
            plantData.forEach(plant => {
                const option = document.createElement("option");
                option.value = plant.strain;
                option.textContent = plant.strain;
                strainDropdown.appendChild(option);
            });
        }

        // Add New Strain
        function addStrain() {
            const newStrainInput = document.getElementById("newStrainInput");
            const strainName = newStrainInput.value.trim();
            
            if (strainName) {
                plantData.push({ strain: strainName, growthStages: [10, 20, 30, 40, 50], loggedTraits: [] });
                populateStrainDropdown();
                renderStrainList();
                newStrainInput.value = ""; // Clear input field
                saveToLocalStorage(); // Save to local storage
            } else {
                alert("Please enter a valid strain name.");
            }
        }

        // Log Trait Function
        function logTrait() {
            const strainName = strainDropdown.value;
            const trait = document.getElementById("traitDropdown").value;
            const description = document.getElementById("descriptionDropdown").value;
            const color = document.getElementById("colorDropdown").value;
            const growthRate = document.getElementById("growthRateDropdown").value;
            const flavorProfile = document.getElementById("flavorProfileDropdown").value;
            
            const dateLogged = new Date().toLocaleString();

            const selectedPlant = plantData.find(plant => plant.strain === strainName);
            selectedPlant.loggedTraits.push({ trait, description, color, growthRate, flavorProfile, dateLogged });

            renderStrainList();
            updateChart();
            saveToLocalStorage(); // Save to local storage after logging a trait
        }

        // Render Strain List with Logged Traits, Date, and Delete Button
        function renderStrainList() {
            strainList.innerHTML = "";
            plantData.forEach((plant, plantIndex) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `<strong>${plant.strain}</strong><br>Traits: ${plant.loggedTraits.map((t, traitIndex) => `
                    <span>${t.trait}: ${t.description} (Color: ${t.color}, Growth Rate: ${t.growthRate}, Flavor: ${t.flavorProfile}, Logged on: ${t.dateLogged})</span>
                    <button class="delete-log" onclick="deleteTrait(${plantIndex}, ${traitIndex})">Delete</button><br>
                `).join("") || "No traits logged."}`;
                strainList.appendChild(listItem);
            });
        }

        // Delete Trait
        function deleteTrait(plantIndex, traitIndex) {
            plantData[plantIndex].loggedTraits.splice(traitIndex, 1);
            renderStrainList();
            saveToLocalStorage(); // Save to local storage after deletion
        }

        // Chart Implementation
        const ctx = document.getElementById("growthChart").getContext("2d");
        let growthChart;

        function updateChart() {
            const strainName = strainDropdown.value;
            const selectedPlant = plantData.find(plant => plant.strain === strainName);
            const growthStages = selectedPlant.growthStages;

            if (growthChart) {
                growthChart.destroy();
            }

            growthChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Stage 1', 'Stage 2', 'Stage 3', 'Stage 4', 'Stage 5'],
                    datasets: [{
                        label: strainName,
                        data: growthStages,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Local Storage Functions
        function saveToLocalStorage() {
            localStorage.setItem("plantData", JSON.stringify(plantData));
        }

        function loadFromLocalStorage() {
            const data = localStorage.getItem("plantData");
            return data ? JSON.parse(data) : [];
        }

        // Initialize the app
        populateStrainDropdown();
        renderStrainList();
        updateChart();

        // Update current year in footer
        document.getElementById("currentYear").textContent = new Date().getFullYear();
    </script>
</body>
</html>
